# DORILOOP - アプリ実装概要

## アプリ概要

**DORILOOP**は、問題集を使った反復学習をサポートする学習管理アプリです。

**キャッチコピー**: 「学習スタイルを変えず、効率を最大化する」

## 主な機能

### 1. 問題集管理
- 問題集の登録・管理
- 資格カテゴリの作成・整理
- 学習進捗の可視化

### 2. 学習記録
- 問題ごとの解答履歴保存
- 正答率の分析
- 復習スケジュールの管理

### 3. 学習分析
- 全ての学習履歴へのアクセス
- 完了した問題集の閲覧
- 進捗ダッシュボード

## 料金プラン

### 無料プラン
- 問題集を**1つ**まで登録可能
- 資格カテゴリは無制限に作成可能
- 全ての学習履歴にアクセス可能
- 完了した問題集の閲覧可能

### プレミアムプラン（サブスクリプション）
- 問題集を**無制限**に登録可能
- 月額プラン / 年額プラン から選択

### 問題集追加枠（買い切り）
- 無料プランのまま、問題集の登録枠を追加購入可能
- 購入した追加枠は永続的に有効

## 技術スタック

### フロントエンド
- **React Native** + **Expo** (SDK 52)
- **expo-router** - ファイルベースルーティング
- **TypeScript**
- **Zustand** - 状態管理
- **React Hook Form** + **Zod** - フォームバリデーション
- **lucide-react-native** - アイコン

### バックエンド
- **NestJS** - APIサーバー
- **Supabase** - 認証・データベース (PostgreSQL)
- **RevenueCat** - サブスクリプション・課金管理

### デザイン
- カスタムテーマシステム（ライト/ダークモード対応）
- **ZenKakuGothicNew** フォント使用
- 統一されたカラーパレット（primary, secondary, success, warning, error）

## 主要画面

### 認証
- **ログイン画面** - メール/パスワード + Apple Sign In
- **新規登録画面** - 利用規約・プライバシーポリシー同意チェックボックス付き
- **メール確認画面** - 認証メール送信後の案内

### オンボーディング
- アプリの特徴を紹介するスワイプ式チュートリアル
- 初回起動時のみ表示

### メイン機能
- **ホーム** - 問題集一覧、学習開始
- **ダッシュボード** - 学習統計、進捗確認
- **分析** - 詳細な学習履歴
- **設定** - アカウント管理、テーマ切替、プラン確認

### 課金
- **ペイウォール** - プラン比較表、購入フロー
- 購入前にスクロールして内容確認を必須化

### 法的情報
- **利用規約** - モーダル表示
- **プライバシーポリシー** - モーダル表示

## 認証フロー

1. 新規登録時に利用規約・プライバシーポリシーへの同意が必須
2. メール/パスワード認証 または Apple Sign In
3. メール認証が必要な場合は確認画面へ遷移
4. 認証完了後、メイン画面へ

## サブスクリプション管理

### RevenueCat連携
- エンタイトルメント: `DORILOOP Pro`
- 製品ID:
  - 月額: `com.DORILOOP.premium.monthly`
  - 年額: `com.DORILOOP.premium.yearly`
  - 買い切り: `com.naochanz.add_quizbook`

### 購入フロー
1. ペイウォールでプラン選択
2. 購入ボタンで Apple の購入ダイアログ表示
3. 購入完了後、即座にプレミアム機能が有効化
4. 購入復元機能あり

## UIコンポーネント

### Toast通知
- 成功: 緑背景 (#16a34a)
- エラー: 赤背景 (#dc2626)
- 情報: 青背景 (#2563eb)
- カスタムスタイル（大きめのフォント、丸角）

### ボタン
- プライマリ: 塗りつぶし（primary[600]）
- セカンダリ: アウトライン
- 無効時: opacity 0.7

### 入力フォーム
- アイコン付きテキストフィールド
- バリデーションエラー表示
- プレースホルダーテキスト

## アプリストア情報

- **対象年齢**: 4+ (13歳未満は保護者の同意が必要)
- **カテゴリ**: 教育
- **対応OS**: iOS

## 運営情報

- 個人開発者による運営
- お問い合わせはアプリ内機能から
